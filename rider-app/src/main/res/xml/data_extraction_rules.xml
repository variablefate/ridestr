<?xml version="1.0" encoding="utf-8"?>
<!--
    Data extraction rules for Android 12+ (API 31+)
    Excludes sensitive data from cloud backup and device-to-device transfer
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- Exclude secrets -->
        <exclude domain="sharedpref" path="ridestr_secure_keys.xml" />
        <exclude domain="sharedpref" path="ridestr_wallet_keys.xml" />
        <exclude domain="sharedpref" path="ridestr_wallet_storage.xml" />
        <exclude domain="sharedpref" path="ridestr_settings.xml" />
        <exclude domain="sharedpref" path="__androidx_security_crypto_encrypted_file_pref__.xml" />
        <!-- Exclude privacy-sensitive location/history data (Nostr sync is recovery path) -->
        <exclude domain="sharedpref" path="ridestr_ride_history.xml" />
        <exclude domain="sharedpref" path="ridestr_saved_locations.xml" />
        <exclude domain="sharedpref" path="ridestr_vehicles.xml" />
        <exclude domain="sharedpref" path="roadflare_followed_drivers.xml" />
        <exclude domain="sharedpref" path="roadflare_driver_state.xml" />
        <exclude domain="sharedpref" path="tile_discovery_cache.xml" />
        <exclude domain="sharedpref" path="profile_picture_prefs.xml" />
        <exclude domain="sharedpref" path="remote_config.xml" />
    </cloud-backup>
    <device-transfer>
        <!-- Same exclusions for device-to-device transfer -->
        <exclude domain="sharedpref" path="ridestr_secure_keys.xml" />
        <exclude domain="sharedpref" path="ridestr_wallet_keys.xml" />
        <exclude domain="sharedpref" path="ridestr_wallet_storage.xml" />
        <exclude domain="sharedpref" path="ridestr_settings.xml" />
        <exclude domain="sharedpref" path="__androidx_security_crypto_encrypted_file_pref__.xml" />
        <exclude domain="sharedpref" path="ridestr_ride_history.xml" />
        <exclude domain="sharedpref" path="ridestr_saved_locations.xml" />
        <exclude domain="sharedpref" path="ridestr_vehicles.xml" />
        <exclude domain="sharedpref" path="roadflare_followed_drivers.xml" />
        <exclude domain="sharedpref" path="roadflare_driver_state.xml" />
        <exclude domain="sharedpref" path="tile_discovery_cache.xml" />
        <exclude domain="sharedpref" path="profile_picture_prefs.xml" />
        <exclude domain="sharedpref" path="remote_config.xml" />
    </device-transfer>
</data-extraction-rules>
